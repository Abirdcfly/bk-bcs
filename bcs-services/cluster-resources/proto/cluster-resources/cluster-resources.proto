// Tencent is pleased to support the open source community by making Blueking Container Service available.
// Copyright (C) 2022 THL A29 Limited, a Tencent company. All rights reserved.
// Licensed under the MIT License (the "License"); you may not use this file except
// in compliance with the License. You may obtain a copy of the License at
//
// http://opensource.org/licenses/MIT
//
// Unless required by applicable law or agreed to in writing, software distributed under,
// the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
// either express or implied. See the License for the specific language governing permissions and
// limitations under the License.

syntax = "proto3";

package clusterresources;

option go_package = "proto/cluster-resources";

import "google/api/annotations.proto";
import "google/protobuf/struct.proto";
import "protoc-gen-swagger/options/annotations.proto";
import "validate/validate.proto";

// swagger 相关定义
option (grpc.gateway.protoc_gen_swagger.options.openapiv2_swagger) = {
	info: {
		title: "Cluster Resources ApiDoc"
		version: "1.0"
		license: {
			name: "MIT";
		};
	};
	schemes: HTTP
};

service ClusterResources {
	// 基础类接口
	rpc Echo(EchoReq) returns (EchoResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/echo"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "Echo 接口，用于开发测试"
			summary: "Echo API"
		};
	}

	rpc Ping(PingReq) returns (PingResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/ping"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "Ping 接口，用于检查服务是否存活"
			summary: "Ping API"
		};
	}

	rpc Healthz(HealthzReq) returns (HealthzResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/healthz"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "Healthz 接口，用于检查服务健康状态"
			summary: "Healthz API"
		};
	}

	rpc Version(VersionReq) returns (VersionResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/version"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "Version 接口，用于获取服务版本信息"
			summary: "Version API"
		};
	}

	// 工作负载类接口
	rpc ListDeploy(NamespaceScopedResListReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/deployments"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Deployment 列表"
			summary: "ListDeploy API"
		};
	}

	rpc GetDeploy(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/deployments/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Deployment"
			summary: "GetDeploy API"
		};
	}

	rpc CreateDeploy(NamespaceScopedResCreateReq) returns (CommonResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/workloads/deployments"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "创建 Deployment"
			summary: "CreateDeploy API"
		};
	}

	rpc UpdateDeploy(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/deployments/{name}"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "更新 Deployment"
			summary: "UpdateDeploy API"
		};
	}

	rpc DeleteDeploy(NamespaceScopedResDeleteReq) returns (CommonResp) {
		option (google.api.http) = {
			delete: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/deployments/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "删除 Deployment"
			summary: "DeleteDeploy API"
		};
	}

	rpc ListDS(NamespaceScopedResListReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/daemonsets"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 DaemonSet 列表"
			summary: "ListDS API"
		};
	}

	rpc GetDS(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/daemonsets/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 DaemonSet"
			summary: "GetDS API"
		};
	}

	rpc CreateDS(NamespaceScopedResCreateReq) returns (CommonResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/workloads/daemonsets"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "创建 DaemonSet"
			summary: "CreateDS API"
		};
	}

	rpc UpdateDS(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/daemonsets/{name}"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "更新 DaemonSet"
			summary: "UpdateDS API"
		};
	}

	rpc DeleteDS(NamespaceScopedResDeleteReq) returns (CommonResp) {
		option (google.api.http) = {
			delete: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/daemonsets/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "删除 DaemonSet"
			summary: "DeleteDS API"
		};
	}

	rpc ListSTS(NamespaceScopedResListReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/statefulsets"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 StatefulSet 列表"
			summary: "ListSTS API"
		};
	}

	rpc GetSTS(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/statefulsets/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 StatefulSet"
			summary: "GetSTS API"
		};
	}

	rpc CreateSTS(NamespaceScopedResCreateReq) returns (CommonResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/workloads/statefulsets"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "创建 StatefulSet"
			summary: "CreateSTS API"
		};
	}

	rpc UpdateSTS(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/statefulsets/{name}"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "更新 StatefulSet"
			summary: "UpdateSTS API"
		};
	}

	rpc DeleteSTS(NamespaceScopedResDeleteReq) returns (CommonResp) {
		option (google.api.http) = {
			delete: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/statefulsets/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "删除 StatefulSet"
			summary: "DeleteSTS API"
		};
	}

	rpc ListCJ(NamespaceScopedResListReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/cronjobs"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 CronJob 列表"
			summary: "ListCJ API"
		};
	}

	rpc GetCJ(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/cronjobs/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 CronJob"
			summary: "GetCJ API"
		};
	}

	rpc CreateCJ(NamespaceScopedResCreateReq) returns (CommonResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/workloads/cronjobs"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "创建 CronJob"
			summary: "CreateCJ API"
		};
	}

	rpc UpdateCJ(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/cronjobs/{name}"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "更新 CronJob"
			summary: "UpdateCJ API"
		};
	}

	rpc DeleteCJ(NamespaceScopedResDeleteReq) returns (CommonResp) {
		option (google.api.http) = {
			delete: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/cronjobs/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "删除 CronJob"
			summary: "DeleteCJ API"
		};
	}

	rpc ListJob(NamespaceScopedResListReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/jobs"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Job 列表"
			summary: "ListJob API"
		};
	}

	rpc GetJob(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/jobs/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Job"
			summary: "GetJob API"
		};
	}

	rpc CreateJob(NamespaceScopedResCreateReq) returns (CommonResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/workloads/jobs"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "创建 Job"
			summary: "CreateJob API"
		};
	}

	rpc UpdateJob(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/jobs/{name}"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "更新 Job"
			summary: "UpdateJob API"
		};
	}

	rpc DeleteJob(NamespaceScopedResDeleteReq) returns (CommonResp) {
		option (google.api.http) = {
			delete: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/jobs/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "删除 Job"
			summary: "DeleteJob API"
		};
	}

	rpc ListPo(PodResListReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Pod 列表"
			summary: "ListPo API"
		};
	}

	rpc GetPo(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Pod"
			summary: "GetPo API"
		};
	}

	rpc CreatePo(NamespaceScopedResCreateReq) returns (CommonResp) {
		option (google.api.http) = {
			post: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/workloads/pods"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "创建 Pod"
			summary: "CreatePo API"
		};
	}

	rpc UpdatePo(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "更新 Pod"
			summary: "UpdatePo API"
		};
	}

	rpc DeletePo(NamespaceScopedResDeleteReq) returns (CommonResp) {
		option (google.api.http) = {
			delete: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "删除 Pod"
			summary: "DeletePo API"
		};
	}

	rpc ListPoPVC(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}/pvcs"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Pod 关联的 PVC"
			summary: "ListPoPVC API"
		};
	}

	rpc ListPoCM(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}/configmaps"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Pod 关联的 ConfigMap"
			summary: "ListPoCM API"
		};
	}

	rpc ListPoSecret(NamespaceScopedResGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}/secrets"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Pod 关联的 Secret"
			summary: "ListPoSecret API"
		};
	}

	rpc ReschedulePo(NamespaceScopedResUpdateReq) returns (CommonResp) {
		option (google.api.http) = {
			put: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{name}/reschedule"
			body: "*"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "重新调度 Pod"
			summary: "ReschedulePo API"
		};
	}

	rpc ListContainer(ContainerListReq) returns (CommonListResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{podName}/containers"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取 Pod 包含的容器列表"
			summary: "ListContainer API"
		};
	}

	rpc GetContainer(ContainerGetReq) returns (CommonResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{podName}/containers/{containerName}"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取指定 Pod 下单个容器信息"
			summary: "GetContainer API"
		};
	}

	rpc GetContainerEnvInfo(ContainerGetReq) returns (CommonListResp) {
		option (google.api.http) = {
			get: "/clusterresources/v1/projects/{projectID}/clusters/{clusterID}/namespaces/{namespace}/workloads/pods/{podName}/containers/{containerName}/env_info"
		};
		option (grpc.gateway.protoc_gen_swagger.options.openapiv2_operation) = {
			description: "获取指定 Pod 下单个容器环境变量信息"
			summary: "GetContainerEnvInfo API"
		};
	}
}

// 基础类请求/响应体
message EchoReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "EchoReq", description: "Echo API 请求"}
	};
	string str = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
			title: "Str", description: "待回显字符串，长度在 2-30 之间，仅包含大小写字母及数字"
		}, (validate.rules).string = {min_len: 2, max_len: 30, pattern: "^[0-9a-zA-Z-]+$"}];
}

message EchoResp {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "EchoResp", description: "Echo API 响应"}
	};
	string ret = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "Ret", description: "回显字符串"
	}];
}

message PingReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "PingReq", description: "Ping API 请求（无需参数）"}
	};
}

message PingResp {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "PingResp", description: "Ping API 响应"}
	};
	string ret = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "Ret", description: "Pong"
	}];
}

message HealthzReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "HealthzReq", description: "Healthz API 请求（无需参数）"}
	};
}

message HealthzResp {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "HealthzResp", description: "Healthz API 响应"}
	};
	// TODO 暂时只返回 OK 的状态，后续需要补充 API，DB 等状态信息
	string status = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "Status", description: "服务状态"
	}];
	string CallTime = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "CallTime", description: "API 请求时间"
	}];
}

message VersionReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "VersionReq", description: "Version API 请求（无需参数）"}
	};
}

message VersionResp {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "VersionResp", description: "Version API 响应"}
	};
	string version = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "Version", description: "服务版本"
	}];
	string gitCommit = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "GitCommit", description: "最新 Commit ID"
	}];
	string buildTime = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "BuildTime", description: "构建时间"
	}];
	string GoVersion = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "GoVersion", description: "Go 版本"
	}];
	string CallTime = 5 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "CallTime", description: "API 请求时间"
	}];
}

// 业务类请求/响应体
message NamespaceScopedResListReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "NamespaceScopedResListReq", description: "命名空间维度 k8s 资源列表查询请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string labelSelector = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "标签选择器"
	}, (validate.rules).string = {max_len: 128}];
}

message NamespaceScopedResGetReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "NamespaceScopedResGetReq", description: "查询命名空间维度单个 k8s 资源请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string name = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "资源名称"
	}, (validate.rules).string = {max_len: 253, pattern: "[a-z0-9]([-a-z0-9]*[a-z0-9])?(.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"}];
}

message NamespaceScopedResCreateReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "NamespaceScopedResCreateReq", description: "创建命名空间维度单个 k8s 资源请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	google.protobuf.Struct manifest = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "资源配置信息"
	}];
}

message NamespaceScopedResUpdateReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "NamespaceScopedResUpdateReq", description: "更新命名空间维度单个 k8s 资源请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string name = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "资源名称"
	}, (validate.rules).string = {max_len: 253, pattern: "[a-z0-9]([-a-z0-9]*[a-z0-9])?(.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"}];
	google.protobuf.Struct manifest = 5 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "资源配置信息"
	}];
}

message NamespaceScopedResDeleteReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "NamespaceScopedResDeleteReq", description: "删除命名空间维度单个 k8s 资源请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string name = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "资源名称"
	}, (validate.rules).string = {max_len: 253, pattern: "[a-z0-9]([-a-z0-9]*[a-z0-9])?(.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"}];
}

message PodResListReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "PodResListReq", description: "Pod 资源列表查询请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string labelSelector = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "标签选择器"
	}, (validate.rules).string = {max_len: 128}];
	string ownerName = 5 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "所属资源名称"
	}, (validate.rules).string = {max_len: 256}];
	string ownerKind = 6 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "所属资源类型"
	}, (validate.rules).string = {max_len: 64}];
}

message ContainerListReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "ContainerListReq", description: "查询单个 Pod 容器信息请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string podName = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "Pod 名称"
	}, (validate.rules).string = {max_len: 253, pattern: "[a-z0-9]([-a-z0-9]*[a-z0-9])?(.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"}];
}

message ContainerGetReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "ContainerGetReq", description: "查询 Pod 指定容器信息请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
	string namespace = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "命名空间"
	}, (validate.rules).string = {max_len: 63, pattern: "^[0-9a-zA-Z-]+$"}];
	string podName = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "Pod 名称"
	}, (validate.rules).string = {max_len: 253, pattern: "[a-z0-9]([-a-z0-9]*[a-z0-9])?(.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*"}];
	string containerName = 5 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "容器名称"
	}, (validate.rules).string = {max_len: 63, pattern: "[a-z0-9]([-a-z0-9]*[a-z0-9])?"}];
}

message ClusterScopedResListReq {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {title: "ClusterScopedResListReq", description: "集群维度 k8s 资源查询请求体"}
	};
	string projectID = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "项目 ID"
	}, (validate.rules).string = {pattern: "^[0-9a-f]{32}$"}];
	string clusterID = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "集群 ID"
	}, (validate.rules).string = {max_len: 14}];
}

message CommonResp {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {
			title: "CommonResp"
			description: "通用响应体，适用于资源型 API 请求返回，如需定义详细的 data 结构则不使用该响应体"
		}
	};

	int32 code = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "code", description: "返回错误码"
	}];
	string message = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "message", description : "返回错误信息"
	}];
	string requestID = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "request id", description : "请求 ID"
	}];
	google.protobuf.Struct data = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "data", description : "资源信息"
	}];
}

message CommonListResp {
	option (grpc.gateway.protoc_gen_swagger.options.openapiv2_schema) = {
		json_schema: {
			title: "CommonListResp"
			description: "通用响应体，适用于资源型 API 请求返回，如需定义详细的 data 结构则不使用该响应体"
		}
	};

	int32 code = 1 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "code", description: "返回错误码"
	}];
	string message = 2 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "message", description : "返回错误信息"
	}];
	string requestID = 3 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "request id", description : "请求 ID"
	}];
	google.protobuf.ListValue data = 4 [(grpc.gateway.protoc_gen_swagger.options.openapiv2_field) = {
		title: "data", description : "资源信息"
	}];
}