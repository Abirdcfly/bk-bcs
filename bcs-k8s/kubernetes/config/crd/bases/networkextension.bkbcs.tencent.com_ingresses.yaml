
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.2.5
  creationTimestamp: null
  name: ingresses.networkextension.bkbcs.tencent.com
spec:
  group: networkextension.bkbcs.tencent.com
  names:
    kind: Ingress
    listKind: IngressList
    plural: ingresses
    singular: ingress
  scope: Namespaced
  validation:
    openAPIV3Schema:
      description: Ingress is the Schema for the ingresses API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: IngressSpec defines the desired state of Ingress
          properties:
            portMappings:
              items:
                description: IngressPortMapping mapping of ingress
                properties:
                  certificates:
                    description: IngressListenerCertificate certificate configs for
                      listener
                    properties:
                      certCaId:
                        type: string
                      certCilentCaContent:
                        type: string
                      certClientCaName:
                        type: string
                      certId:
                        type: string
                      certServerContent:
                        type: string
                      certServerKey:
                        type: string
                      certServerName:
                        type: string
                      mode:
                        type: string
                    type: object
                  domain:
                    type: string
                  endIndex:
                    type: integer
                  ignoreHostPort:
                    type: boolean
                  isBackendPortFixed:
                    type: boolean
                  listenerAttribute:
                    description: IngressListenerAttribute attribute for listener
                    properties:
                      healthCheck:
                        description: ListenerHealthCheck health check setting for
                          listener
                        properties:
                          enabled:
                            type: boolean
                          healthNum:
                            type: integer
                          httpCheckMethod:
                            type: string
                          httpCheckPath:
                            type: string
                          httpCode:
                            type: integer
                          intervalTime:
                            type: integer
                          timeout:
                            type: integer
                          unHealthNum:
                            type: integer
                        required:
                        - enabled
                        - healthNum
                        - httpCheckMethod
                        - httpCheckPath
                        - httpCode
                        - intervalTime
                        - timeout
                        - unHealthNum
                        type: object
                      lbPolicy:
                        type: string
                      sessionTime:
                        type: integer
                    required:
                    - healthCheck
                    - lbPolicy
                    - sessionTime
                    type: object
                  path:
                    type: string
                  protocol:
                    type: string
                  segmentLength:
                    type: integer
                  startIndex:
                    type: integer
                  startPort:
                    type: integer
                  workloadKind:
                    type: string
                  workloadName:
                    type: string
                  workloadNamespace:
                    type: string
                required:
                - certificates
                - domain
                - endIndex
                - ignoreHostPort
                - isBackendPortFixed
                - listenerAttribute
                - path
                - protocol
                - segmentLength
                - startIndex
                - startPort
                - workloadKind
                - workloadName
                - workloadNamespace
                type: object
              type: array
            rules:
              items:
                description: IngressRule rule of ingress
                properties:
                  certificates:
                    description: IngressListenerCertificate certificate configs for
                      listener
                    properties:
                      certCaId:
                        type: string
                      certCilentCaContent:
                        type: string
                      certClientCaName:
                        type: string
                      certId:
                        type: string
                      certServerContent:
                        type: string
                      certServerKey:
                        type: string
                      certServerName:
                        type: string
                      mode:
                        type: string
                    type: object
                  layer4Services:
                    items:
                      description: ServiceRoute service info
                      properties:
                        isDirectConnect:
                          type: boolean
                        serviceName:
                          type: string
                        serviceNamespace:
                          type: string
                        servicePort:
                          type: integer
                        serviceWeight:
                          type: integer
                        subsets:
                          items:
                            description: IngressSubset subset info
                            properties:
                              labelSelector:
                                additionalProperties:
                                  type: string
                                type: object
                              weight:
                                type: integer
                            required:
                            - labelSelector
                            - weight
                            type: object
                          type: array
                      required:
                      - isDirectConnect
                      - serviceName
                      - serviceNamespace
                      - servicePort
                      - serviceWeight
                      - subsets
                      type: object
                    type: array
                  layer7Services:
                    items:
                      description: Layer7Route 7 layer route config
                      properties:
                        domain:
                          type: string
                        path:
                          type: string
                        services:
                          items:
                            description: ServiceRoute service info
                            properties:
                              isDirectConnect:
                                type: boolean
                              serviceName:
                                type: string
                              serviceNamespace:
                                type: string
                              servicePort:
                                type: integer
                              serviceWeight:
                                type: integer
                              subsets:
                                items:
                                  description: IngressSubset subset info
                                  properties:
                                    labelSelector:
                                      additionalProperties:
                                        type: string
                                      type: object
                                    weight:
                                      type: integer
                                  required:
                                  - labelSelector
                                  - weight
                                  type: object
                                type: array
                            required:
                            - isDirectConnect
                            - serviceName
                            - serviceNamespace
                            - servicePort
                            - serviceWeight
                            - subsets
                            type: object
                          type: array
                      required:
                      - domain
                      - path
                      - services
                      type: object
                    type: array
                  listenerAttribute:
                    description: IngressListenerAttribute attribute for listener
                    properties:
                      healthCheck:
                        description: ListenerHealthCheck health check setting for
                          listener
                        properties:
                          enabled:
                            type: boolean
                          healthNum:
                            type: integer
                          httpCheckMethod:
                            type: string
                          httpCheckPath:
                            type: string
                          httpCode:
                            type: integer
                          intervalTime:
                            type: integer
                          timeout:
                            type: integer
                          unHealthNum:
                            type: integer
                        required:
                        - enabled
                        - healthNum
                        - httpCheckMethod
                        - httpCheckPath
                        - httpCode
                        - intervalTime
                        - timeout
                        - unHealthNum
                        type: object
                      lbPolicy:
                        type: string
                      sessionTime:
                        type: integer
                    required:
                    - healthCheck
                    - lbPolicy
                    - sessionTime
                    type: object
                  port:
                    type: integer
                  protocol:
                    type: string
                required:
                - certificates
                - layer4Services
                - layer7Services
                - listenerAttribute
                - port
                - protocol
                type: object
              type: array
          required:
          - portMappings
          - rules
          type: object
        status:
          description: IngressStatus defines the observed state of Ingress
          properties:
            loadbalancers:
              description: 'INSERT ADDITIONAL STATUS FIELD - define observed state
                of cluster Important: Run "make" to regenerate code after modifying
                this file'
              items:
                description: IngressLoadBalancer loadbalancer for ingress
                properties:
                  ips:
                    items:
                      type: string
                    type: array
                required:
                - ips
                type: object
              type: array
          required:
          - loadbalancers
          type: object
      type: object
  version: v1
  versions:
  - name: v1
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
